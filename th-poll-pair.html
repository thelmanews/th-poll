<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../core-ajax/core-ajax.html">
<link rel="import" href="../firebase-element/firebase-element.html">

<!--

@group Thelma Charts
@element th-poll-pair
@blurb Pairs th-poll-choices with a corresponding charting component to chart the results stored in Firebase.
@status alpha
@homepage http://github.com/thelmanews/thelma-charts/blob/master/th-poll-pair.html
-->

<polymer-element name="th-poll-pair" attributes="firebaseKey data">
  <template>
    <core-style ref="theme"></core-style>
     <firebase-element id="firebase"  data="{{data}}"></firebase-element>
  </template>
  <script>
    Polymer('th-poll-pair', {
      // pairingKey: "testing",
      // firebaseKey: "",
      _firebaseLocation: "https://shining-fire-6376.firebaseio.com/polls/",
      ready: function(){
        var self = this;
        self.firebase = self.$.firebase;
      
      },
      animate: function(){

      },
      reset: function(){

      },
      firebaseKeyChanged: function(){
        if (this.firebaseKey){
          this.firebase.location = this._firebaseLocation + this.firebaseKey;
        }
      },
      dataChanged: function(){
        this.$.firebase.commit();
      }
    });

  </script>
</polymer-element>
